!function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),n=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},i=[{name:"Float",str:!1},{name:"Percent",str:"%"},{name:"Pixel",str:"px"},{name:"Deg",str:"deg"},{name:"ViewportWidth",str:"vw"},{name:"ViewportHeight",str:"vh"}],r=function(){function n(e,i){t(this,n),this.originalValue=e,this.wrapper=i||!1,this.type=this.parseType(this.originalValue),this.value=this.type.str?parseFloat(this.originalValue.replace(this.type.str,""),10):this.originalValue}return e(n,[{key:"parseType",value:function(t){if("number"==typeof t)return i.filter(function(t){return"Float"===t.name})[0];if("string"==typeof t)return i.filter(function(e){return t.indexOf(e.str)>-1})[0];throw"Animator: Cannot parse Value of unsupported type."}},{key:"toString",value:function(){var t=this.value+(this.type.str||"");return this.wrapper&&(t=this.wrapper+"("+t+")"),t}},{key:"clone",value:function(){return new n(this.originalValue,this.wrapper)}}]),n}(),a=function(t,e,n){return t+(e-t)*n},s=function(t,e,n){return(t-e)/(n-e)},o=function(t,e,n,i,r){return a(i,r,s(t,e,n))},u=function(t,e,n){return Math.max(e,Math.min(n,t))},c=function(){function n(e,i){if(t(this,n),this.property=e,this.values={from:this.parseValues(i[0]),to:this.parseValues(i[1]),interpolated:[]},this.values.from.length!=this.values.to.length)throw'You need as many "from" values as "to" values.';for(var r=0;r<this.values.from.length;r++)this.values.interpolated[r]=this.values.from[r].clone()}return e(n,[{key:"parseValues",value:function(t){return t=t instanceof Object?Object.entries(t).map(function(t){return new r(t[1],t[0])}):[new r(t)]}},{key:"interpolate",value:function(t){var e=this;this.values.interpolated.map(function(n,i){n.value=a(e.values.from[i].value,e.values.to[i].value,t).toFixed(4)})}},{key:"toString",value:function(){return this.values.interpolated.join(" ")}}]),n}(),h=["opacity","filter","transform"],l=function(){function n(e){var i=this;t(this,n),this.el=e,this.data=JSON.parse(this.el.dataset.animator),this.rectEl=document.querySelector(this.data.relative)||this.el,this.updateDimensions(!0),setTimeout(function(){i.updateDimensions(!0)},500),this.checkInView(),this.data.range=this.data.range||[0,1],this.data.recalcOnResize=void 0===this.data.recalcOnResize||this.data.recalcOnResize,this.data.styles=Object.entries(this.data).filter(function(t){return h.indexOf(t[0])>-1}).map(function(t){return new c(t[0],t[1])}),this.progress=this.current=0,this.lastCurrent}return e(n,[{key:"updateDimensions",value:function(t){(this.data.recalcOnResize||t)&&(this.rect=this.rectEl.getBoundingClientRect(),this.top=this.rect.top+window.scrollY,this.rtop=this.top-window.innerHeight,this.bottom=this.rect.bottom+window.scrollY,this.data.scrollOffset&&(this.rtop-=window.scrollY-window.innerHeight,this.bottom-=window.scrollY-window.innerHeight))}},{key:"checkInView",value:function(){return this.isInView=this.top<window.innerHeight+window.scrollY&&this.bottom>window.scrollY,this.isInView}},{key:"update",value:function(t){var e,n,i,r,a=this;this.isInView,this.progress=(e=0,n=1,i=o(t,this.rtop,this.bottom,0,1),(r=u(s(i,e,n),0,1))*r*(3-2*r)),this.progress=o(this.progress,this.data.range[0],this.data.range[1],0,1),this.progress=u(this.progress,0,1),this.current+=.7*(this.progress-this.current),this.data.styles.forEach(function(t){return t.interpolate(a.current.toFixed(3))})}},{key:"draw",value:function(){var t=this;this.current!==this.lastCurrent&&(this.lastCurrent=this.current,this.data.styles.forEach(function(e){t.el.style[e.property]=e.toString()}))}}]),n}(),d=function(){function i(e,r){t(this,i),this.animated=[].concat(n(e)).map(function(t){return new l(t)}),this.target=r,this.startTime=performance.now()+performance.timing.navigationStart,this.shouldUpdate=!0,requestAnimationFrame(this.update.bind(this))}return e(i,[{key:"updateDimensions",value:function(){for(var t=0;t<this.animated.length;t++)this.animated[t].updateDimensions()}},{key:"update",value:function(){if(this.shouldUpdate){for(var t=0;t<this.animated.length;t++)this.animated[t].update(this.target);for(var e=0;e<this.animated.length;e++)this.animated[e].draw(this.target);requestAnimationFrame(this.update.bind(this))}}}]),i}();Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,i=new Array(n);n--;)i[n]=[e[n],t[e[n]]];return i});var f=-1!==navigator.userAgent.indexOf("Chrome"),m=new d(document.querySelectorAll("[data-animator]"),scrollY);var p=function(t,e){if("CSS"in window&&"supports"in window.CSS)return CSS.supports(t,e);var n=!1;try{i.style.width="invalid"}catch(t){n=!0}var i=document.createElement("_");if(n)try{i.style[t]=e}catch(t){return!1}else i.style[t]=e;return i.style[t]&&i.style[t]!==before}("object-fit","cover");document.documentElement.classList.add((p?"":"no-")+"cover"),f&&(document.documentElement.classList.add("chrome"),m.animated.forEach(function(t){t.data.styles=t.data.styles.filter(function(t){return"filter"!==t.property})}));var w=!1;function v(){document.documentElement.classList.add("trigger"),w=!0}setTimeout(v,1500),addEventListener("scroll",function(t){m.target=scrollY,scrollY>50&&!w&&v()}),addEventListener("resize",function(t){m.updateDimensions()});var g=document.querySelector("video"),y=document.querySelector(".section-hero"),b=document.querySelector(".endframe");function k(){y.classList.add("video-ended"),g&&b.addEventListener("transitionend",function(t){g.remove()})}function S(){return!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||window.orientation)}function O(){var t=window.screen.width;return window.orientation&&window.screen.height<t&&(t=window.screen.height),!S()&&t>=600}if(y.offsetHeight<window.innerHeight&&(y.style.minHeight=window.innerHeight+"px"),f&&g&&(window.matchMedia("(max-width: 1068px) and (orientation: portrait)").matches?g.src=g.dataset.sourceFallbackPortrait:g.src=g.dataset.sourceFallbackLandscape),window.matchMedia("(prefers-reduced-motion)").matches&&(g.remove(),k()),g||k(),g.addEventListener("ended",function(){k()}),setTimeout(function(){var t=!!(g.currentTime>0&&!g.paused&&!g.ended&&g.readyState>2);g&&t||k()},2500),!window.matchMedia("(-webkit-video-playable-inline)").matches&&(!S()&&!O()||O())){!function t(){var e=g.currentTime,n=g.playbackRate,i=g.duration,r=(e+=.016*n)<=0,a=e>=i,s=n>=0,o=n<0;r&&(e=0),a&&(e=i),g.currentTime=e,r&&o||a&&s?(g.pause(),k()):requestAnimationFrame(t)}()}}();
